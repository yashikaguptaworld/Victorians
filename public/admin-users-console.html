<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bootstrap demo</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
        integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">

 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
    integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.3/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>

    <script>
        var mymodule = angular.module("kuchModule", []);

        mymodule.controller("kuchController", function ($scope, $http) {
            $scope.jsonArray = [];

            $scope.doFetchAll = function () {
                // alert();
                var url = "/do-fetch";

                $http.get(url).then(allGoodFx, someBadFx);
                function allGoodFx(response) {
                    //resp in JSON array
                    //  alert(JSON.stringify(response.data));
                    $scope.jsonArray = response.data;
                }

                function someBadFx(response) {
                   // alert(JSON.stringify(response.data));
                }
            }

            //============================================================================================================

            $scope.doBlock = function (emailid) {
                var url = "/block-one?emailid=" + emailid;

                $http.get(url).then(allGoodFx, someBadFx);
                function allGoodFx(response) {
                  //  alert(response.data); //resp in string
                    $scope.doFetchAll();
                }

                function someBadFx(response) {
                  //  alert(JSON.stringify(response.data));
                }
            }
            //==============================
            $scope.doUnblock = function (emailid) {
                //  alert();
                var url = "/unblock-one?emailid=" + emailid;


                $http.get(url).then(allGoodFx, someBadFx);
                function allGoodFx(response) {
                    //resp in JSON array
                   // alert(JSON.stringify(response.data));
                    $scope.doFetchAll();
                }

                function someBadFx(response) {
                   // alert(JSON.stringify(response.data));
                }
            }
        });
    </script>
    <style>
         #logo {
      border: 1px black solid;
      width: 40px;
      height: 40px;
      float: left;
      margin-top: -1px;
      background-image: url(/pics/Screenshot\ 2025-07-20\ 100601.png);
      background-size: contain;
      margin-left: 20px;
      border-radius: 50%;
      transition: ease all 1s;

    }

    #logo:hover {
      transform: scale(1.2);
      transition: ease all 1s;
    }
    </style>
</head>

<body ng-app="kuchModule" ng-controller="kuchController" ng-init="doFetchAll();">

      
   <nav class="navbar bg-primary">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">
        <img src="/pics/Screenshot 2025-07-20 100601.png" id="logo" alt="">
        <div class="d-inline-block align-text-top"
          style="color: white ;  margin-left: 10px; font-size: x-large; font-style: italic;"> VICTORIANS
        </div>
      </a>
    </div>
    </nav>
  <br>
 <center> <table width="800"  rules="all"  border="1px" cellspacing="10" cellpadding="5" style=" width: auto; border : 2px black solid; padding: 12px;">
        <center>
            <h2 style="color:red;">User Admin Console</h2>
        </center>
        <tr>

            <th>Email Id</th>
            <th>Password</th>
            <th>User-Type</th>
            <th>Birth</th>
            <th>status</th>
<center>
            <th>
                Operations
            </th>
            </center>
        </tr>
        <tr ng-repeat="obj in jsonArray">

            <td>{{obj.emailid}}</td>
            <td>{{obj.pwd}}</td>
            <td>{{obj.usertype}}</td>
            <td>{{obj.dos|date:'dd-mm-yyyy'}}</td>
            <td>{{obj.status}}</td>

            <th>
                <input type="button"   class="btn btn-danger" ng-click="doBlock(obj.emailid);" value="BLOCK">

                </th>
                <th>
                <input type="button" value="Resume" class="btn btn-success" ng-click="doUnblock(obj.emailid)">


            </th>

        </tr>
    </table>
    </center>

</center>  
      <br><br><br><br>
<nav class="navbar fixed-bottom bg-primary">
    <div class="container-fluid">
      <a class="navbar-brand" href="#" style="width:2000px; color: white;""><CENTER><i class="fa-solid fa-trophy" style="color: white;"></i> WARRIOR <i class="fa-solid fa-trophy" style="color: white;"></i></CENTER></a>
  </div>
</nav>
</body>

</html>